var b=Object.defineProperty;var $=(n,e,s)=>e in n?b(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var L=(n,e,s)=>$(n,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}})();class C{constructor(e){if(!(e!=null&&e.wrapper)||!(e!=null&&e.left)||!(e!=null&&e.right)){console.error("Carousel Error: параметры 'wrapper', 'left' и 'right' обязательны для заполнения в передаваемом объекте.");return}this.container=e.wrapper,this.carouselContainer=document.querySelector(e.wrapper),this.countItems=this.carouselContainer.childElementCount,this.gap=0,this.itemWidth,this.positionArray=[],this.itemsCreated=!1,this.leftControl=document.querySelector(e.left),this.rigthControl=document.querySelector(e.right),this.autoWidth=!1,this.central=e.central,this.setControl(),this.stylesCentralItem=e.stylesCentralItem,this.itemName=`item${C.instanceCount++}`,this.initPosition()}initPosition(){this.gap=parseInt(window.getComputedStyle(this.carouselContainer).getPropertyValue("gap"))||this.gap;const e=Math.round(this.carouselContainer.offsetWidth/2),s=2;let r;this.itemWidth=this.carouselContainer.firstElementChild.offsetWidth,this.central&&(r=e-Math.round(this.itemWidth/2));let t=0;Array.from(this.carouselContainer.children).forEach(a=>{let i=a.getBoundingClientRect();i.height>t&&(t=i.height)}),this.addOrUpdateRule(this.container.substr(1),"height",`${t+12}px`),Array.from(this.carouselContainer.children).forEach((a,i)=>{if(!this.itemsCreated&&(a.classList.add(`${this.itemName}-${i+1}`),this.addOrUpdateRule(`${this.itemName}-${i+1}`,"position","absolute"),i==s-1&&this.stylesCentralItem)){let l=this.stylesCentralItem;[...a.classList].forEach(f=>{for(let g in l)l[g]==this.getStyleValue(f,g)&&this.addOrUpdateRule(f,g),this.addOrUpdateRule(`${this.itemName}-${s}`,g,l[g])})}this.positionArray[i]=r+(i+1-s)*(this.itemWidth+this.gap),this.addOrUpdateRule(`${this.itemName}-${i+1}`,"left",this.positionArray[i]+"px")}),this.itemsCreated=!0}addOrUpdateRule(e,s,r){let t=!1;for(let a of document.styleSheets)try{for(let i of a.cssRules)if(i.selectorText===`.${e}`){r===void 0?i.style.removeProperty(s):i.style[s]=r,t=!0;break}}catch(i){console.warn("Ошибка при обновлении стиля",i)}!t&&document.styleSheets.length>0&&document.styleSheets[0].insertRule(`.${e} { ${s}: ${r}; }`,document.styleSheets[0].cssRules.length)}getStyleValue(e,s){for(let r of document.styleSheets)try{for(let t of r.cssRules)if(t.selectorText===`.${e}`)return s?t.style[s]||null:!0}catch(t){console.warn("Ошибка при получении стиля",t)}return null}copyClass(e,s){for(let r of document.styleSheets)try{for(let t of r.cssRules)if(t.selectorText===`.${e}`){let a=`.${s} { ${t.style.cssText} }`;r.insertRule(a,r.cssRules.length);return}}catch(t){console.warn("Ошибка при копировании стилей",t)}}removeClass(e){for(let s of document.styleSheets)try{for(let r=0;r<s.cssRules.length;r++)if(s.cssRules[r].selectorText===`.${e}`){s.deleteRule(r);return}}catch(r){console.warn("Ошибка при удалении стиля",r)}}moveItems(e){let s=this.carouselContainer.firstElementChild,r=this.carouselContainer.lastElementChild,t=this.itemWidth+this.gap;if(e==="left"){const a=s.cloneNode(!0);a.classList.replace(`${this.itemName}-1`,`${this.itemName}-${this.countItems}`),this.carouselContainer.appendChild(a),this.copyClass(`${this.itemName}-1`,`${this.itemName}-0`),Array.from(this.carouselContainer.children).forEach((i,l)=>{i.dataset.index==="2"&&i.classList.toggle("slider__item-great",l!==2),i.classList.replace(`${this.itemName}-${l+1}`,`${this.itemName}-${l}`);let f=this.positionArray[l]-t;this.addOrUpdateRule(`${this.itemName}-${l}`,"left",`${f}px`)}),setTimeout(()=>{this.carouselContainer.removeChild(this.carouselContainer.firstElementChild),this.removeClass(`${this.itemName}-0`),this.carouselItems=this.carouselContainer.querySelectorAll(":scope > div"),this.carouselArray=[...this.carouselItems]},300)}else if(e=="right"){let a=this.positionArray[0]-t;r.cloneNode(!0),this.addOrUpdateRule(`${this.itemName}-${this.countItems}`,"left",`${a}px`),setTimeout(()=>{Array.from(this.carouselContainer.children).forEach((i,l)=>{this.addOrUpdateRule(`${this.itemName}-${l+1}`,"left",this.positionArray[l]+"px");let f=l==0?this.countItems:l;l+1===this.countItems?this.countItems:(l+1)%this.countItems,i.classList.replace(`${this.itemName}-${f}`,`${this.itemName}-${l+1}`),i.dataset.index==="2"&&i.classList.toggle("slider__item-great",l!==1)})}),this.carouselContainer.insertBefore(r,this.carouselContainer.firstChild)}}setControl(){this.leftControl.addEventListener("click",()=>{this.moveItems("left")}),this.rigthControl.addEventListener("click",()=>{this.moveItems("right")})}updateSettings(e){Object.keys(e).forEach(s=>{this.hasOwnProperty(s)&&(this[s]=e[s])}),this.initPosition()}}C.instanceCount=0;class w{constructor(e){L(this,"state",{sliderWidth:0,sliderStep:0});if(!(e!=null&&e.wrapper)||!(e!=null&&e.prev)||!(e!=null&&e.next)){console.error("Slider Error: параметры 'wrapper', 'left' и 'right' обязательны для заполнения в передаваемом объекте.");return}this.slider=document.querySelector(e.wrapper),this.prev=document.querySelector(e.prev),this.next=document.querySelector(e.next),this.interval=e.interval||.5,this.track=this.slider.firstElementChild,this.setState(),this.setControl(),this.isAnimating=!1}setState(){this.state.sliderWidth=this.slider.offsetWidth;const e=this.track.children,s=getComputedStyle(this.track),r=parseFloat(s.columnGap||s.gap||0);this.state.sliderStep=e[0].offsetWidth+r}moveItems(e){this.isAnimating||(this.isAnimating=!0,e==="prev"?(this.track.style.transition=`transform ${this.interval}s ease`,this.track.style.transform=`translateX(-${this.state.sliderStep}px)`,setTimeout(()=>{this.track.style.transition="none",this.track.append(this.track.firstElementChild),this.track.style.transform="translateX(0)",this.isAnimating=!1},this.interval*1e3)):(this.track.style.transition="none",this.track.prepend(this.track.lastElementChild),this.track.style.transform=`translateX(-${this.state.sliderStep}px)`,this.track.offsetHeight,this.track.style.transition=`transform ${this.interval}s ease`,this.track.style.transform="translateX(0)",setTimeout(()=>{this.isAnimating=!1},this.interval*1e3)))}setControl(){this.prev.addEventListener("click",()=>{this.slider.offsetWidth!==this.state.sliderWidth&&this.setState(),this.moveItems("prev")}),this.next.addEventListener("click",()=>{this.slider.offsetWidth!==this.state.sliderWidth&&this.setState(),this.moveItems("next")})}}document.addEventListener("DOMContentLoaded",()=>{const n=document.body.dataset.page;window.addEventListener("load",()=>{document.body.classList.contains("preload")&&document.body.classList.remove("preload")});const e=document.querySelector(".to-top");window.addEventListener("scroll",()=>{const o=window.scrollY||document.documentElement.scrollTop,d=window.innerHeight;o>d*1.5?e.style.display="block":e.style.display="none"}),e.addEventListener("click",()=>{window.scrollTo(0,0)});const s=document.querySelector(".navbar__wrapper"),r=document.querySelector(".hamburger"),t=document.querySelector(".olerlay"),a=s.querySelector("ul"),i=a.querySelectorAll("li");let l=0;switch(n){case"main":l=0;break;case"about":l=1;break;case"academics":l=2;break;case"admission":l=3;break;case"students":l=4;break;case"contact":l=5;break}i[l].classList.add("navbar__menu-active"),document.querySelector(".hamburger").addEventListener("click",()=>{s.classList.toggle("navbar__wrapper-active"),t.classList.toggle("overlay-active"),r.classList.contains("hamburger-active")?(r.classList.remove("hamburger-active"),r.classList.add("hamburger-close"),setTimeout(()=>{r.classList.remove("hamburger-close")},2e3)):r.classList.add("hamburger-active")});const f=sessionStorage.getItem("id");if(f&&(document.querySelector(`#${f}`).scrollIntoView({behavior:"smooth"}),sessionStorage.removeItem("id")),document.querySelectorAll("a").forEach(o=>{let d=o.getAttribute("href");o.addEventListener("click",m=>{d.includes("#")&&(m.preventDefault(),window.location.href=d.split("#")[0],sessionStorage.setItem("id",d.split("#")[1]))})}),n=="main"){let h=function(p,c){p.forEach(v=>{v.classList.remove(c)})};var E=h;const o={wrapper:".slider__wrapper",left:".arrow_left",right:".arrow_right",central:!0};new C(o);const d=document.querySelector(".mainquestions__wrapper"),m=document.querySelectorAll(".mainquestions__item");d.addEventListener("click",p=>{const c=p.target.closest(".mainquestions__item");c?c.classList.contains("mainquestions__item-active")?h(m,"mainquestions__item-active"):(h(m,"mainquestions__item-active"),c.classList.add("mainquestions__item-active")):h(m,"mainquestions__item-active")})}if(n=="about"){const o={wrapper:".aboutawards__slider",left:".aboutawards__arrows-left",right:".aboutawards__arrows-right",central:!0};new C(o)}if(n=="academics"){let _=function(y){v.forEach((u,S)=>{y-1!==S&&y?u.style.display="none":u.style.removeProperty("display")}),c.forEach((u,S)=>{y!==S?u.classList.remove("academicsgallery__tab-active"):u.classList.add("academicsgallery__tab-active")})};var q=_;const o={wrapper:".academicsgallery__classrooms-slider",prev:".academicsgallery__classrooms-left",next:".academicsgallery__classrooms-right"},d={wrapper:".academicsgallery__library-slider",prev:".academicsgallery__library-left",next:".academicsgallery__library-right"},m={wrapper:".academicsgallery__science-slider",prev:".academicsgallery__science-left",next:".academicsgallery__science-right"},h={wrapper:".academicsgallery__computer-slider",prev:".academicsgallery__computer-left",next:".academicsgallery__computer-right"},p={wrapper:".academicsgallery__nature-slider",prev:".academicsgallery__nature-left",next:".academicsgallery__nature-right"};new w(o),new w(d),new w(m),new w(h),new w(p);const c=document.querySelectorAll(".academicsgallery__tab"),v=document.querySelectorAll("[data-item]");c.forEach((y,u)=>{y.addEventListener("click",S=>{_(u)})})}if(n=="contact"){const o=document.querySelector(".contactform__form"),d=o.querySelectorAll(".contactform__form-required"),m=o.querySelector("#interest"),h=o.querySelector("ul");m.addEventListener("click",()=>{h.style.display==="block"?h.style.removeProperty("display"):h.style.display="block"}),h.querySelectorAll("li").forEach(p=>{p.addEventListener("click",c=>{m.value=c.target.innerText,h.style.removeProperty("display")})}),o.addEventListener("submit",p=>{p.preventDefault();let c=!0;if(d.forEach(y=>{const u=y.querySelector("input");u.addEventListener("click",()=>{y.classList.remove("contactform__form-error")}),u.validity.valid||(y.classList.add("contactform__form-error"),c=!1)}),!c)return;const v=new FormData(o),_=Object.fromEntries(v.entries());console.log(_),alert(`Data sent:
`+JSON.stringify(_,null,2))})}});
